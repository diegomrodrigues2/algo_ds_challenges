# ğŸ”’ SeÃ§Ãµes CrÃ­ticas

## ğŸ¯ Conceito Central

**SeÃ§Ã£o crÃ­tica**: Bloco de cÃ³digo que pode ser executado por apenas uma thread por vez. **ExclusÃ£o mÃºtua** garante que seÃ§Ãµes crÃ­ticas de threads diferentes nÃ£o se sobreponham.

## ğŸ“Š Problema ClÃ¡ssico: Counter

### âŒ ImplementaÃ§Ã£o Incorreta
```java
public class Counter {
    private long value;
    
    public long getAndIncrement() {
        long temp = value;  // âš ï¸ Danger zone
        value = temp + 1;   // âš ï¸ Danger zone
        return temp;
    }
}
```

### âœ… SoluÃ§Ã£o com Lock
```java
public class Counter {
    private long value;
    private Lock lock;
    
    public long getAndIncrement() {
        lock.lock();           // ğŸ”’ Entrar seÃ§Ã£o crÃ­tica
        try {
            long temp = value; // âœ… Seguro
            value = temp + 1;  // âœ… Seguro
            return temp;
        } finally {
            lock.unlock();     // ğŸ”“ Sair seÃ§Ã£o crÃ­tica
        }
    }
}
```

## ğŸ“‹ Interface Lock

| MÃ©todo | DescriÃ§Ã£o | Uso |
|--------|-----------|-----|
| **lock()** | Adquire o lock | Antes de entrar seÃ§Ã£o crÃ­tica |
| **unlock()** | Libera o lock | Antes de sair seÃ§Ã£o crÃ­tica |

## ğŸ”§ Thread Well-Formed

Thread Ã© **well-formed** se:
1. âœ… Cada seÃ§Ã£o crÃ­tica associada a Lock Ãºnico
2. âœ… Chama `lock()` antes de entrar seÃ§Ã£o crÃ­tica  
3. âœ… Chama `unlock()` ao sair seÃ§Ã£o crÃ­tica

## âš¡ PadrÃ£o Java Recomendado

```java
mutex.lock();
try {
    // ğŸ”’ Corpo da seÃ§Ã£o crÃ­tica
} finally {
    mutex.unlock(); // ğŸ”“ Garante liberaÃ§Ã£o mesmo com exceÃ§Ã£o
}
```

## ğŸ“Š ComparaÃ§Ã£o: Com vs Sem Lock

| Aspecto | âŒ Sem Lock | âœ… Com Lock |
|---------|-------------|-------------|
| **CorreÃ§Ã£o** | âŒ Race conditions | âœ… ExclusÃ£o mÃºtua |
| **Performance** | ğŸš€ RÃ¡pido | â° Overhead |
| **Confiabilidade** | âŒ Resultados incorretos | âœ… Resultados corretos |
| **Debugging** | ğŸ”¥ DifÃ­cil | ğŸ›¡ï¸ PrevisÃ­vel | 