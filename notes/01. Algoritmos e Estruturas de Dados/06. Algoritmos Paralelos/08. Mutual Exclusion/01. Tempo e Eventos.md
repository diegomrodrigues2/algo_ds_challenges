# â° Tempo e Eventos

## ğŸ¯ Conceito Central

**Tempo absoluto**: Threads compartilham tempo comum (mas nÃ£o necessariamente relÃ³gio comum). Threads sÃ£o mÃ¡quinas de estado com transiÃ§Ãµes chamadas **eventos**.

## ğŸ“Š DefiniÃ§Ãµes Fundamentais

### ğŸ”„ Eventos
- **InstantÃ¢neos**: Ocorrem em instante Ãºnico
- **NÃ£o simultÃ¢neos**: Eventos distintos ocorrem em tempos distintos
- **NotaÃ§Ã£o**: `a_i^j` = j-Ã©sima ocorrÃªncia do evento `a_i`
- **PrecedÃªncia**: `a â†’ b` se `a` ocorre antes de `b`

### â±ï¸ Intervalos
- **DuraÃ§Ã£o**: `(aâ‚€, aâ‚)` = tempo entre eventos `aâ‚€` e `aâ‚`
- **PrecedÃªncia**: `I_A â†’ I_B` se `aâ‚ â†’ bâ‚€`
- **ConcorrÃªncia**: Intervalos nÃ£o relacionados por `â†’`

## ğŸ¨ Diagrama de Estados de Thread

```mermaid
stateDiagram-v2
    direction LR
    [*] --> Ativa
    Ativa --> Processando: Evento A (Inicia)
    Processando --> Processando: Loop de trabalho
    Processando --> Finalizada: Evento B (Finaliza)
    Finalizada --> [*]

    %% Exemplo de concorrÃªncia e preempÃ§Ã£o
    state Fork_State <<fork>>
    Processando --> Fork_State: Evento C (Context Switch)
    Fork_State --> Processando: Retorna ao trabalho
    Fork_State --> OutraThread: Executa outra thread
```

## ğŸ¨ Diagrama de Eventos Concorrentes

```mermaid
sequenceDiagram
    participant ğŸ‘¤ Thread A
    participant ğŸ‘¤ Thread B
    participant ğŸ”§ Sistema
    
    ğŸ‘¤ Thread A->>ğŸ”§ Sistema: Evento Aâ‚ (lock())
    ğŸ‘¤ Thread B->>ğŸ”§ Sistema: Evento Bâ‚ (lock())
    ğŸ”§ Sistema->>ğŸ‘¤ Thread A: Evento Aâ‚‚ (entra CS)
    ğŸ‘¤ Thread A->>ğŸ”§ Sistema: Evento Aâ‚ƒ (unlock())
    ğŸ”§ Sistema->>ğŸ‘¤ Thread B: Evento Bâ‚‚ (entra CS)
    ğŸ‘¤ Thread B->>ğŸ”§ Sistema: Evento Bâ‚ƒ (unlock())
```

## ğŸ“‹ Propriedades da RelaÃ§Ã£o `â†’`

| Propriedade | DescriÃ§Ã£o | SÃ­mbolo |
|-------------|-----------|---------|
| **Total Order** | Eventos sÃ£o totalmente ordenados | `a â†’ b` ou `b â†’ a` |
| **Partial Order** | Intervalos sÃ£o parcialmente ordenados | `I_A â†’ I_B` ou concorrentes |
| **Transitiva** | Se `a â†’ b` e `b â†’ c`, entÃ£o `a â†’ c` | `a â†’ b â†’ c` |

## ğŸ”§ AplicaÃ§Ã£o PrÃ¡tica

- **AnÃ¡lise de concorrÃªncia**: Determinar ordem de execuÃ§Ã£o
- **DetecÃ§Ã£o de race conditions**: Identificar acessos concorrentes
- **Prova de correÃ§Ã£o**: Demonstrar propriedades de algoritmos
- **Debugging**: Rastrear sequÃªncia de eventos

## âš¡ Exemplo: Threads A e B

```
Thread A: aâ‚€ â†’ aâ‚ â†’ aâ‚‚ â†’ ...
Thread B: bâ‚€ â†’ bâ‚ â†’ bâ‚‚ â†’ ...

Intervalos:
- I_A = (aâ‚€, aâ‚)
- I_B = (bâ‚€, bâ‚)

Se aâ‚ â†’ bâ‚€: I_A â†’ I_B (sequenciais)
Se concorrentes: I_A || I_B
```